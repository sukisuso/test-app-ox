(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){e.exports=n(279)},113:function(e,t,n){},274:function(e,t,n){},279:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(18),c=n.n(r),s=(n(113),n(23)),o=n(24),i=n(26),u=n(25),m=n(27),h=n(281),E=n(284),p=n(283),d=n(282),f=n(19),v=n.n(f),w=n(106),b=n.n(w),g=n(107),j=n.n(g),O=n(35),y=n(20),S=n(99),C=n.n(S),T=n(101),A=n.n(T),k=n(29),N=n.n(k),Q=n(21),q=n.n(Q),x=n(102),P=n.n(x),D=n(39),F=n.n(D),J=n(40),U=n.n(J),_=n(15),B=n.n(_),G=n(30),M=n.n(G),V=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).changeName=function(t){e.setState({name:t.target.value})},e.changeDesc=function(t){e.setState({description:t.target.value})},e.addQuestion=function(t){e.setState(function(e){return{questions:e.currentQuestion?Object(O.a)(e.questions).concat([e.currentQuestion]):Object(O.a)(e.questions),currentQuestion:""}})},e.changeQuestion=function(t){e.setState({currentQuestion:t.target.value})},e.saveTest=function(t){var n={name:e.state.name,description:e.state.description,questions:e.state.questions};fetch("/api/test",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(t){e.setState({description:"",name:"",currentQuestion:"",questions:[]})}).catch(function(e){console.log(e)})},e.state={name:"",description:"",questions:[],currentQuestion:""},e.saveTest=e.saveTest.bind(Object(y.a)(Object(y.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"New test"),l.a.createElement(C.a,null,l.a.createElement(A.a,null,l.a.createElement("form",null,l.a.createElement(N.a,{label:"Test name",value:this.state.name,onChange:this.changeName,margin:"normal"}),l.a.createElement(N.a,{label:"Description",value:this.state.description,onChange:this.changeDesc,margin:"normal"}),l.a.createElement(q.a,null),l.a.createElement(F.a,null,l.a.createElement(U.a,null,this.state.questions.map(function(e,t){return l.a.createElement(M.a,null,l.a.createElement(B.a,{component:"th",key:t},e))}))),l.a.createElement(N.a,{label:"Question",value:this.state.currentQuestion,onChange:this.changeQuestion,margin:"normal"}),l.a.createElement(v.a,{variant:"fab",color:"primary","aria-label":"Add",onClick:this.addQuestion},l.a.createElement(P.a,null))),l.a.createElement(q.a,null),l.a.createElement(v.a,{color:"primary",onClick:this.saveTest},"Create"))))}}]),t}(a.Component),W=n(66),I=n.n(W),$=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).showAnswer=function(t,n){e.setState({answerSelected:t})},e.componentDidMount=function(t){fetch("/api/answer",{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(t){t.ok&&t.json().then(function(t){e.setState({answers:t})})}).catch(function(e){console.log(e)})},e.state={answers:[],answerSelected:void 0},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h2",null,"Test list"),l.a.createElement(F.a,null,l.a.createElement(I.a,null,l.a.createElement(M.a,null,l.a.createElement(B.a,null,"User"),l.a.createElement(B.a,null,"Test name"),l.a.createElement(B.a,null))),l.a.createElement(U.a,null,this.state.answers.map(function(t){return l.a.createElement(M.a,null,l.a.createElement(B.a,{component:"th"},t.userName),l.a.createElement(B.a,{component:"th"},t.test.name),l.a.createElement(B.a,{component:"th"},l.a.createElement(v.a,{color:"primary",onClick:function(n){return e.showAnswer(t,n)}},"View")))}))),l.a.createElement(q.a,null),this.state.answerSelected&&l.a.createElement("div",null,l.a.createElement(a.Fragment,null,l.a.createElement("h2",null,"Test -> ",this.state.answerSelected.test.name," [",this.state.answerSelected.userName,"]")),l.a.createElement(a.Fragment,null,l.a.createElement(F.a,null,l.a.createElement(I.a,null,l.a.createElement(M.a,null,l.a.createElement(B.a,null,"Question"),l.a.createElement(B.a,null,"Answer"),l.a.createElement(B.a,null))),l.a.createElement(U.a,null,this.state.answerSelected.answers.map(function(e){return l.a.createElement(M.a,null,l.a.createElement(B.a,{component:"th"},e.question),l.a.createElement(B.a,{component:"th"},e.answer))}))))))}}]),t}(a.Component),z=n(64),H=n.n(z),K=n(104),L=n.n(K),R=n(65),X=n.n(R),Y=n(103),Z=n.n(Y),ee=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).changeUserName=function(t){e.setState({userName:t.target.value})},e.setAnswer=function(t,n){var a=e.state.answers,l=e.state.answers[t];l.answer=n.target.value,e.setState({answers:Object(O.a)(a.slice(0,t)).concat([l],Object(O.a)(a.slice(t+1)))})},e.selectTest=function(t){if(t&&t.target&&t.target.value){var n=Z.a.find(e.state.tests,{_id:t.target.value}).questions.map(function(e){return{question:e,answer:""}});e.setState({test:t.target.value,answers:n})}},e.componentDidMount=function(t){fetch("/api/test",{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(t){t.ok&&t.json().then(function(t){e.setState({tests:t})})}).catch(function(e){console.log(e)})},e.saveAnswers=function(t){fetch("/api/answer",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(e.state)}).then(function(t){e.setState({test:void 0})}).catch(function(e){console.log(e)})},e.state={tests:[],test:void 0,userName:"",answers:[]},e.selectTest=e.selectTest.bind(Object(y.a)(Object(y.a)(e))),e.saveAnswers=e.saveAnswers.bind(Object(y.a)(Object(y.a)(e))),e.setAnswer=e.setAnswer.bind(Object(y.a)(Object(y.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h2",null,"Fill New Test"),l.a.createElement(H.a,{htmlFor:"age-simple"},"Select test to fill"),l.a.createElement(X.a,{value:this.state.testSelected,onChange:this.selectTest,inputProps:{name:"name",id:"_id"}},this.state.tests.map(function(e){return l.a.createElement(L.a,{value:e._id},e.name)})),l.a.createElement(q.a,null),this.state.test&&l.a.createElement("div",null,l.a.createElement(N.a,{label:"User name",value:this.state.userName,onChange:this.changeUserName,margin:"normal"}),l.a.createElement(q.a,null),this.state.answers.map(function(t,n){return l.a.createElement("div",null,l.a.createElement(a.Fragment,null,l.a.createElement(N.a,{label:t.question,value:t.answer,onChange:function(t){return e.setAnswer(n,t)},margin:"normal"})),l.a.createElement(q.a,null))}),l.a.createElement(q.a,null),l.a.createElement(v.a,{color:"primary",onClick:this.saveAnswers},"Create response")))}}]),t}(a.Component),te=(n(274),function(e){var t=e.match,n=e.location;return l.a.createElement("div",null,l.a.createElement("h2",null,"Admin Page"),l.a.createElement("div",null,l.a.createElement(v.a,{color:"primary"},l.a.createElement(h.a,{to:t.url+"/new"},"Create new Test")),l.a.createElement(v.a,{color:"primary"},l.a.createElement(h.a,{to:t.url+"/list"},"View user answers"))),l.a.createElement("div",null,l.a.createElement(E.a,{location:n},l.a.createElement(p.a,{exact:!0,path:t.url+"/new",render:function(e){return l.a.createElement(V,Object.assign({},e,{color:"red"}))}}),l.a.createElement(p.a,{path:t.url+"/list",render:function(e){return l.a.createElement($,Object.assign({},e,{color:"blue"}))}}))))}),ne=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(d.a,null,l.a.createElement("div",null,l.a.createElement(b.a,{position:"static",color:"default"},l.a.createElement(j.a,null,l.a.createElement(v.a,{color:"primary"},l.a.createElement(h.a,{to:"/admin"},"Admin Page")),l.a.createElement(v.a,{color:"primary"},l.a.createElement(h.a,{to:"/client"},"Client Page")))),l.a.createElement("div",null,l.a.createElement(E.a,null,l.a.createElement(p.a,{path:"/admin",component:te}),l.a.createElement(p.a,{path:"/client",component:ee}))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[108,2,1]]]);
//# sourceMappingURL=main.3f4fae6c.chunk.js.map